<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAHUL SUPREME PLAYER</title>
    <style>
        :root { --main: #ff0000; --bg: #0f0f0f; --text: #ffffff; }
        body { background: var(--bg); color: var(--text); font-family: sans-serif; margin: 0; padding-bottom: 70px; }
        .header { background: #202020; padding: 10px; position: sticky; top: 0; z-index: 100; display: flex; align-items: center; gap: 10px; }
        input { flex: 1; padding: 10px; border-radius: 20px; border: none; background: #333; color: #fff; outline: none; }
        .btn-search { background: var(--main); color: #fff; border: none; padding: 10px 15px; border-radius: 20px; font-weight: bold; }
        
        #video-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; padding: 15px; }
        .video-card { background: #1a1a1a; border-radius: 12px; overflow: hidden; }
        .video-card iframe { width: 100%; aspect-ratio: 16/9; border: none; }
        .video-info { padding: 10px; text-align: left; }
        .video-info h3 { font-size: 14px; margin: 5px 0; color: #efefef; }
        
        .actions { display: flex; justify-content: space-around; padding: 10px; border-top: 1px solid #333; }
        .actions button, .actions a { background: transparent; color: #aaa; border: none; font-size: 12px; cursor: pointer; text-decoration: none; }
        .actions button.active { color: var(--main); }

        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: #0f0f0f; display: flex; justify-content: space-around; padding: 10px 0; border-top: 1px solid #333; }
        .nav-item { color: #aaa; font-size: 10px; text-decoration: none; text-align: center; }
        .nav-item.active { color: #fff; }
    </style>
</head>
<body>

<div class="header">
    <b style="color: red; font-size: 20px;">R</b>
    <input type="text" id="query" placeholder="YouTube par search karein...">
    <button class="btn-search" onclick="searchVideo()">SEARCH</button>
</div>

<div id="video-container">
    </div>

<div class="bottom-nav">
    <a href="#" class="nav-item active" onclick="loadTrending()">üè† Home</a>
    <a href="#" class="nav-item" onclick="showSection('history')">üìú History</a>
    <a href="#" class="nav-item" onclick="showSection('likes')">‚ù§Ô∏è Likes</a>
    <a href="#" class="nav-item" onclick="showSection('shorts')">ü©≥ Shorts</a>
</div>

<script>
    // Database mimic using LocalStorage
    let history = JSON.parse(localStorage.getItem('rahul_history')) || [];
    let likes = JSON.parse(localStorage.getItem('rahul_likes')) || [];

    // 1. Shuruat mein trending videos dikhana
    window.onload = function() { loadTrending(); };

    function loadTrending() {
        renderVideos(["NCS Music", "New Movies 2026", "Live Cricket", "Bhojpuri Songs"]);
    }

    function searchVideo() {
        let q = document.getElementById('query').value;
        if(q) {
            renderVideos([q]);
            saveToHistory(q);
        }
    }

    function renderVideos(queries) {
        let container = document.getElementById('video-container');
        container.innerHTML = "";
        queries.forEach(q => {
            for(let i=0; i<3; i++) { // Ek search par 3 videos dikhayega
                let div = document.createElement('div');
                div.className = 'video-card';
                div.innerHTML = `
                    <iframe src="https://www.youtube.com/embed?listType=search&list=${encodeURIComponent(q)}&index=${i}" allowfullscreen></iframe>
                    <div class="video-info">
                        <h3>${q} - Real Video Result ${i+1}</h3>
                        <div class="actions">
                            <button onclick="toggleLike('${q}')">‚ù§Ô∏è LIKE</button>
                            <a href="https://v3.9xbuddy.com/search?q=${encodeURIComponent(q)}" target="_blank">‚¨áÔ∏è DOWNLOAD</a>
                            <button onclick="share()">üîó SHARE</button>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            }
        });
    }

    function saveToHistory(q) {
        if(!history.includes(q)) history.push(q);
        localStorage.setItem('rahul_history', JSON.stringify(history));
    }

    function toggleLike(q) {
        if(!likes.includes(q)) likes.push(q);
        localStorage.setItem('rahul_likes', JSON.stringify(likes));
        alert("Video Liked! ‚ù§Ô∏è");
    }

    function showSection(type) {
        let container = document.getElementById('video-container');
        container.innerHTML = `<h2 style="padding:15px; text-transform:capitalize;">${type}</h2>`;
        let data = type === 'history' ? history : (type === 'likes' ? likes : []);
        
        if(data.length === 0) {
            container.innerHTML += `<p style="padding:15px; color:#666;">Yahan kuch nahi hai...</p>`;
        } else {
            renderVideos(data);
        }
    }

    function share() {
        alert("Link copy ho gaya! Apne doston ko bhein.");
    }
</script>

</body>
</html>
